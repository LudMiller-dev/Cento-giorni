<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Racha de 100 d√≠as ‚Äî Amor ‚ù§Ô∏èüî•</title>
  <style>
    :root{
      --bg:#0a0b10; /* fondo oscuro elegante */
      --accent:#32d74b; /* verde tipo Duolingo pero m√°s suave */
      --flame1:#ffcc33; --flame2:#ff8833; --flame3:#ff5533;
      --text:#e8f5e9; --muted:#a1b0a8; --glow:#c9ffe4;
      --pink:#ff6fb3; --gold:#ffd166;
    }
    html,body{height:100%;}
    body{
      margin:0; background:radial-gradient(1200px 1200px at 50% 20%, #111826 0%, var(--bg) 60%);
      color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Noto Sans',sans-serif;
      display:grid; place-items:center;
      overflow:hidden;
    }
    .stage{ position:relative; width:min(680px, 92vw); aspect-ratio: 1 / 1.6; border-radius:28px; padding:28px; 
      background:linear-gradient(180deg, rgba(50,215,75,0.06), rgba(50,215,75,0.02));
      box-shadow: 0 30px 120px rgba(0,0,0,0.5), inset 0 0 40px rgba(50,215,75,0.06);
    }
    .top-hint{ position:absolute; top:14px; left:20px; font-size:12px; color:var(--muted); letter-spacing:.04em}.flame-wrap{ display:flex; align-items:center; justify-content:center; margin-top:18px; }
.flame{
  width:120px; height:120px; cursor:pointer; filter: drop-shadow(0 0 16px rgba(255,145,0,.35));
  animation: float 3s ease-in-out infinite;
  transform-origin:center;
}
.flame:hover{ filter: drop-shadow(0 0 22px rgba(255,145,0,.55)); }

@keyframes float { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }
@keyframes flicker { 0%,100%{transform:scaleY(1)} 50%{transform:scaleY(1.06)} }

.ring{
  position:absolute; inset:0; pointer-events:none; filter:blur(30px); opacity:.25;
  background: radial-gradient(600px 300px at 50% 20%, rgba(50,215,75,.18), transparent 60%);
}

.counter-area{ display:grid; place-items:center; margin-top:16px; text-align:center; }
.label{ font-size:14px; color:var(--muted); letter-spacing:.14em; text-transform:uppercase }

.count{ font-size:84px; line-height:1; font-weight:800; letter-spacing:.02em; margin:6px 0 0; 
  background:linear-gradient(180deg, #ffffff, #b7ffe0 40%, #7affc1 60%, #7bd3a6 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 6px 40px rgba(50,215,75,.25);
  transition: transform .15s ease;
}
.suffix{ font-size:18px; color:var(--muted); margin-top:4px }

.cta{ margin-top:14px; }
button{
  background: linear-gradient(180deg, rgba(50,215,75,.2), rgba(50,215,75,.06));
  border:1px solid rgba(50,215,75,.35);
  color:var(--text); font-weight:700; padding:10px 16px; border-radius:12px; cursor:pointer;
  backdrop-filter: blur(4px);
}
button:active{ transform:scale(.98) }

.message{ position:absolute; inset:auto 0 28px; display:grid; place-items:center; opacity:0; transform: translateY(12px); transition: all .7s ease; text-align:center; }
.message.show{ opacity:1; transform: none; }
.message h1{ font-size: clamp(28px, 6vw, 44px); margin:0 0 6px; font-weight:900; letter-spacing:.02em;
  background: linear-gradient(90deg, var(--gold), #fff, var(--pink));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: 0 8px 40px rgba(255, 214, 102,.35);
}
.message p{ margin:0; color:var(--muted) }

/* Confetti canvas sits behind content */
#confetti{ position:absolute; inset:0; z-index:0; }
.content{ position:relative; z-index:1; }

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce){
  .flame{ animation:none }
  .count{ transition:none }
}

  </style>
</head>
<body>
  <div class="stage" id="stage">
    <canvas id="confetti"></canvas>
    <div class="content">
      <div class="top-hint">Toca la llama para encender la racha</div>
      <div class="ring"></div><div class="flame-wrap">
    <!-- SVG llama: formas superpuestas para brillo/flicker -->
    <svg class="flame" id="flame" viewBox="0 0 120 120" aria-label="Llama de racha" role="img">
      <defs>
        <radialGradient id="g1" cx="50%" cy="40%" r="60%">
          <stop offset="0%" stop-color="var(--flame1)" />
          <stop offset="60%" stop-color="var(--flame2)" />
          <stop offset="100%" stop-color="var(--flame3)" />
        </radialGradient>
      </defs>
      <!-- cuerpo de llama -->
      <path d="M60 10 C40 30 70 40 55 65 C45 82 25 82 25 102 C25 114 42 118 60 118 C78 118 95 114 95 102 C95 82 75 82 65 65 C55 48 80 35 60 10Z" fill="url(#g1)"></path>
      <!-- brillo interno -->
      <path d="M60 26 C49 37 65 44 55 62 C50 72 40 73 40 92 C40 100 49 104 60 104 C71 104 80 100 80 92 C80 73 70 72 65 62 C60 52 71 44 60 26Z" fill="#fff6" style="transform-origin:60px 70px; animation: flicker 1.2s ease-in-out infinite;"></path>
      <!-- chispa superior -->
      <circle cx="60" cy="16" r="3" fill="#fff9" />
    </svg>
  </div>

  <div class="counter-area">
    <div class="label">Racha</div>
    <div class="count" id="count">0</div>
    <div class="suffix" id="suffix">d√≠as</div>
    <div class="cta"><button id="btn">Encender racha</button></div>
  </div>

  <div class="message" id="message">
    <h1>¬°Felices 100 d√≠as, amor! ‚ú®</h1>
    <p>Contigo, cada d√≠a cuenta. Gracias por ser mi vida entera.</p>
  </div>
</div>

  </div>  <script>
    const TARGET = 100;           // meta de la racha
    const DURATION_MS = 2500;     // duraci√≥n de 0‚Üí100
    const EASING = t => 1 - Math.pow(1 - t, 3); // easeOutCubic

    const countEl = document.getElementById('count');
    const btn = document.getElementById('btn');
    const flame = document.getElementById('flame');
    const msg = document.getElementById('message');

    let running = false;

    function pulse(){
      countEl.style.transform = 'scale(1.06)';
      setTimeout(()=> countEl.style.transform = 'scale(1)', 140);
    }

    function animateCount(){
      if(running) return; running = true;
      const start = performance.now();
      const from = 0, to = TARGET;
      (function loop(now){
        const t = Math.min((now - start) / DURATION_MS, 1);
        const v = Math.round(from + (to - from) * EASING(t));
        countEl.textContent = v; if(v % 5 === 0) pulse();
        if(t < 1) requestAnimationFrame(loop); else celebration();
      })(start);
    }

    function celebration(){
      msg.classList.add('show');
      burstConfetti();
    }

    // Interacciones: tocar llama o bot√≥n
    flame.addEventListener('click', animateCount);
    btn.addEventListener('click', animateCount);

    /**
     * Confetti minimalista en canvas (sin librer√≠as)
     */
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W, H; const parts = [];
    function resize(){ W = canvas.width = canvas.offsetWidth; H = canvas.height = canvas.offsetHeight; }
    window.addEventListener('resize', resize, {passive:true}); resize();

    function spawn(n=140){
      for(let i=0;i<n;i++){
        parts.push({
          x: W/2, y: H*0.25,
          vx: (Math.random()-0.5) * 6,
          vy: (Math.random()*-3) - 2,
          g: 0.08 + Math.random()*0.08,
          s: 3 + Math.random()*3,
          r: Math.random()*Math.PI,
          vr: (Math.random()-0.5)*0.2,
          color: [
            '#7affc1','#32d74b','#b7ffe0','#ffd166','#ff6fb3','#ffffff'
          ][Math.floor(Math.random()*6)]
        });
      }
    }

    function step(){
      ctx.clearRect(0,0,W,H);
      parts.forEach(p=>{
        p.vy += p.g; p.x += p.vx; p.y += p.vy; p.r += p.vr;
        ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r);
        ctx.fillStyle = p.color; ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s);
        ctx.restore();
      });
      // remove off-screen
      for(let i=parts.length-1;i>=0;i--){ if(parts[i].y > H+40) parts.splice(i,1); }
      requestAnimationFrame(step);
    }
    step();

    function burstConfetti(){ spawn(220); setTimeout(()=>spawn(120), 350); setTimeout(()=>spawn(120), 700); }

    // Opcional: iniciar con tecla espacio
    window.addEventListener('keydown', (e)=>{ if(e.code==='Space') animateCount(); });
  </script></body>
</html>
